require "test_helper"

class HelperTests
  include ApplicationHelper
end

class ApplicationHelperTest < Minitest::Test
  def setup
    @helper = HelperTests.new
  end

  def test_pregnancy_string
    assert_equal("15w6d", @helper.pregnancy_string(Date.parse("2022-12-21"), "2022-09-01"))
  end

  def test_pregnancy_no_remainder
    assert_equal("17w", @helper.pregnancy_string(Date.parse("2022-12-24"), "2022-08-27"))
  end

  def test_weather_calendar_events
    Value.
      find_by_key("weather").
      update(
        value: {
          nws_hourly: [{"icon"=>"snow,60",
          "wind"=>"6 mph",
          "end_i"=>1675108800,
          "start_i"=>1675105200,
          "icon_class"=>"snowflake",
          "temperature"=>1,
          "short_forecast"=>"Light Snow Likely"},
         {"icon"=>"snow,60",
          "wind"=>"6 mph",
          "end_i"=>1675112400,
          "start_i"=>1675108800,
          "icon_class"=>"snowflake",
          "temperature"=>2,
          "short_forecast"=>"Light Snow Likely"},
         {"icon"=>"snow,50",
          "wind"=>"6 mph",
          "end_i"=>1675116000,
          "start_i"=>1675112400,
          "icon_class"=>"snowflake",
          "temperature"=>4,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow,50",
          "wind"=>"5 mph",
          "end_i"=>1675119600,
          "start_i"=>1675116000,
          "icon_class"=>"snowflake",
          "temperature"=>5,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow,50",
          "wind"=>"3 mph",
          "end_i"=>1675123200,
          "start_i"=>1675119600,
          "icon_class"=>"snowflake",
          "temperature"=>5,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow,40",
          "wind"=>"5 mph",
          "end_i"=>1675126800,
          "start_i"=>1675123200,
          "icon_class"=>"snowflake",
          "temperature"=>6,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow,40",
          "wind"=>"5 mph",
          "end_i"=>1675130400,
          "start_i"=>1675126800,
          "icon_class"=>"snowflake",
          "temperature"=>4,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow",
          "wind"=>"5 mph",
          "end_i"=>1675134000,
          "start_i"=>1675130400,
          "icon_class"=>"snowflake",
          "temperature"=>4,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow",
          "wind"=>"5 mph",
          "end_i"=>1675137600,
          "start_i"=>1675134000,
          "icon_class"=>"snowflake",
          "temperature"=>3,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow",
          "wind"=>"5 mph",
          "end_i"=>1675141200,
          "start_i"=>1675137600,
          "icon_class"=>"snowflake",
          "temperature"=>2,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"snow",
          "wind"=>"5 mph",
          "end_i"=>1675144800,
          "start_i"=>1675141200,
          "icon_class"=>"snowflake",
          "temperature"=>3,
          "short_forecast"=>"Chance Light Snow"},
         {"icon"=>"cold",
          "wind"=>"6 mph",
          "end_i"=>1675148400,
          "start_i"=>1675144800,
          "icon_class"=>"question",
          "temperature"=>2,
          "short_forecast"=>"Mostly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675152000,
          "start_i"=>1675148400,
          "icon_class"=>"question",
          "temperature"=>2,
          "short_forecast"=>"Mostly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675155600,
          "start_i"=>1675152000,
          "icon_class"=>"question",
          "temperature"=>2,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675159200,
          "start_i"=>1675155600,
          "icon_class"=>"question",
          "temperature"=>2,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675162800,
          "start_i"=>1675159200,
          "icon_class"=>"question",
          "temperature"=>1,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675166400,
          "start_i"=>1675162800,
          "icon_class"=>"question",
          "temperature"=>0,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"6 mph",
          "end_i"=>1675170000,
          "start_i"=>1675166400,
          "icon_class"=>"question",
          "temperature"=>0,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675173600,
          "start_i"=>1675170000,
          "icon_class"=>"question",
          "temperature"=>-4,
          "short_forecast"=>"Sunny"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675177200,
          "start_i"=>1675173600,
          "icon_class"=>"question",
          "temperature"=>-4,
          "short_forecast"=>"Sunny"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675180800,
          "start_i"=>1675177200,
          "icon_class"=>"question",
          "temperature"=>2,
          "short_forecast"=>"Sunny"},
         {"icon"=>"cold",
          "wind"=>"5 mph",
          "end_i"=>1675184400,
          "start_i"=>1675180800,
          "icon_class"=>"question",
          "temperature"=>10,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675188000,
          "start_i"=>1675184400,
          "icon_class"=>"sun",
          "temperature"=>16,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675191600,
          "start_i"=>1675188000,
          "icon_class"=>"sun",
          "temperature"=>22,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675195200,
          "start_i"=>1675191600,
          "icon_class"=>"sun",
          "temperature"=>26,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675198800,
          "start_i"=>1675195200,
          "icon_class"=>"sun",
          "temperature"=>29,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675202400,
          "start_i"=>1675198800,
          "icon_class"=>"sun",
          "temperature"=>32,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675206000,
          "start_i"=>1675202400,
          "icon_class"=>"sun",
          "temperature"=>33,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675209600,
          "start_i"=>1675206000,
          "icon_class"=>"sun",
          "temperature"=>31,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"3 mph",
          "end_i"=>1675213200,
          "start_i"=>1675209600,
          "icon_class"=>"sun",
          "temperature"=>28,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"3 mph",
          "end_i"=>1675216800,
          "start_i"=>1675213200,
          "icon_class"=>"moon",
          "temperature"=>25,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675220400,
          "start_i"=>1675216800,
          "icon_class"=>"moon",
          "temperature"=>22,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675224000,
          "start_i"=>1675220400,
          "icon_class"=>"moon",
          "temperature"=>19,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"5 mph",
          "end_i"=>1675227600,
          "start_i"=>1675224000,
          "icon_class"=>"moon",
          "temperature"=>18,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675231200,
          "start_i"=>1675227600,
          "icon_class"=>"moon",
          "temperature"=>17,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675234800,
          "start_i"=>1675231200,
          "icon_class"=>"moon",
          "temperature"=>17,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675238400,
          "start_i"=>1675234800,
          "icon_class"=>"moon",
          "temperature"=>16,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675242000,
          "start_i"=>1675238400,
          "icon_class"=>"moon",
          "temperature"=>16,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675245600,
          "start_i"=>1675242000,
          "icon_class"=>"moon",
          "temperature"=>15,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675249200,
          "start_i"=>1675245600,
          "icon_class"=>"moon",
          "temperature"=>15,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675252800,
          "start_i"=>1675249200,
          "icon_class"=>"moon",
          "temperature"=>15,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675256400,
          "start_i"=>1675252800,
          "icon_class"=>"moon",
          "temperature"=>15,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675260000,
          "start_i"=>1675256400,
          "icon_class"=>"sun",
          "temperature"=>15,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675263600,
          "start_i"=>1675260000,
          "icon_class"=>"sun",
          "temperature"=>15,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675267200,
          "start_i"=>1675263600,
          "icon_class"=>"sun",
          "temperature"=>17,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675270800,
          "start_i"=>1675267200,
          "icon_class"=>"sun",
          "temperature"=>22,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675274400,
          "start_i"=>1675270800,
          "icon_class"=>"sun",
          "temperature"=>29,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675278000,
          "start_i"=>1675274400,
          "icon_class"=>"sun",
          "temperature"=>35,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675281600,
          "start_i"=>1675278000,
          "icon_class"=>"sun",
          "temperature"=>38,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675285200,
          "start_i"=>1675281600,
          "icon_class"=>"sun",
          "temperature"=>39,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675288800,
          "start_i"=>1675285200,
          "icon_class"=>"sun",
          "temperature"=>39,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675292400,
          "start_i"=>1675288800,
          "icon_class"=>"sun",
          "temperature"=>39,
          "short_forecast"=>"Sunny"},
         {"icon"=>"sct",
          "wind"=>"6 mph",
          "end_i"=>1675296000,
          "start_i"=>1675292400,
          "icon_class"=>"cloud-sun",
          "temperature"=>37,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"6 mph",
          "end_i"=>1675299600,
          "start_i"=>1675296000,
          "icon_class"=>"cloud-sun",
          "temperature"=>35,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"6 mph",
          "end_i"=>1675303200,
          "start_i"=>1675299600,
          "icon_class"=>"cloud-moon",
          "temperature"=>33,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675306800,
          "start_i"=>1675303200,
          "icon_class"=>"moon",
          "temperature"=>30,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675310400,
          "start_i"=>1675306800,
          "icon_class"=>"moon",
          "temperature"=>27,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675314000,
          "start_i"=>1675310400,
          "icon_class"=>"moon",
          "temperature"=>26,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675317600,
          "start_i"=>1675314000,
          "icon_class"=>"moon",
          "temperature"=>25,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675321200,
          "start_i"=>1675317600,
          "icon_class"=>"moon",
          "temperature"=>24,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675324800,
          "start_i"=>1675321200,
          "icon_class"=>"moon",
          "temperature"=>23,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675328400,
          "start_i"=>1675324800,
          "icon_class"=>"moon",
          "temperature"=>22,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675332000,
          "start_i"=>1675328400,
          "icon_class"=>"moon",
          "temperature"=>21,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675335600,
          "start_i"=>1675332000,
          "icon_class"=>"moon",
          "temperature"=>20,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675339200,
          "start_i"=>1675335600,
          "icon_class"=>"moon",
          "temperature"=>20,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675342800,
          "start_i"=>1675339200,
          "icon_class"=>"moon",
          "temperature"=>19,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"6 mph",
          "end_i"=>1675346400,
          "start_i"=>1675342800,
          "icon_class"=>"sun",
          "temperature"=>19,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675350000,
          "start_i"=>1675346400,
          "icon_class"=>"sun",
          "temperature"=>20,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675353600,
          "start_i"=>1675350000,
          "icon_class"=>"sun",
          "temperature"=>22,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675357200,
          "start_i"=>1675353600,
          "icon_class"=>"sun",
          "temperature"=>27,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675360800,
          "start_i"=>1675357200,
          "icon_class"=>"sun",
          "temperature"=>34,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675364400,
          "start_i"=>1675360800,
          "icon_class"=>"sun",
          "temperature"=>39,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675368000,
          "start_i"=>1675364400,
          "icon_class"=>"sun",
          "temperature"=>42,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675371600,
          "start_i"=>1675368000,
          "icon_class"=>"sun",
          "temperature"=>43,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675375200,
          "start_i"=>1675371600,
          "icon_class"=>"sun",
          "temperature"=>43,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675378800,
          "start_i"=>1675375200,
          "icon_class"=>"sun",
          "temperature"=>43,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675382400,
          "start_i"=>1675378800,
          "icon_class"=>"sun",
          "temperature"=>41,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675386000,
          "start_i"=>1675382400,
          "icon_class"=>"sun",
          "temperature"=>39,
          "short_forecast"=>"Sunny"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675389600,
          "start_i"=>1675386000,
          "icon_class"=>"moon",
          "temperature"=>36,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675393200,
          "start_i"=>1675389600,
          "icon_class"=>"moon",
          "temperature"=>33,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675396800,
          "start_i"=>1675393200,
          "icon_class"=>"moon",
          "temperature"=>31,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675400400,
          "start_i"=>1675396800,
          "icon_class"=>"moon",
          "temperature"=>30,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"7 mph",
          "end_i"=>1675404000,
          "start_i"=>1675400400,
          "icon_class"=>"moon",
          "temperature"=>30,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675407600,
          "start_i"=>1675404000,
          "icon_class"=>"moon",
          "temperature"=>30,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675411200,
          "start_i"=>1675407600,
          "icon_class"=>"moon",
          "temperature"=>29,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675414800,
          "start_i"=>1675411200,
          "icon_class"=>"moon",
          "temperature"=>28,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675418400,
          "start_i"=>1675414800,
          "icon_class"=>"moon",
          "temperature"=>28,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675422000,
          "start_i"=>1675418400,
          "icon_class"=>"moon",
          "temperature"=>28,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"few",
          "wind"=>"8 mph",
          "end_i"=>1675425600,
          "start_i"=>1675422000,
          "icon_class"=>"moon",
          "temperature"=>28,
          "short_forecast"=>"Mostly Clear"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675429200,
          "start_i"=>1675425600,
          "icon_class"=>"cloud-moon",
          "temperature"=>29,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675432800,
          "start_i"=>1675429200,
          "icon_class"=>"cloud-sun",
          "temperature"=>29,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675436400,
          "start_i"=>1675432800,
          "icon_class"=>"cloud-sun",
          "temperature"=>29,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675440000,
          "start_i"=>1675436400,
          "icon_class"=>"cloud-sun",
          "temperature"=>31,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675443600,
          "start_i"=>1675440000,
          "icon_class"=>"cloud-sun",
          "temperature"=>35,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675447200,
          "start_i"=>1675443600,
          "icon_class"=>"cloud-sun",
          "temperature"=>40,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675450800,
          "start_i"=>1675447200,
          "icon_class"=>"cloud-sun",
          "temperature"=>44,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675454400,
          "start_i"=>1675450800,
          "icon_class"=>"cloud-sun",
          "temperature"=>47,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675458000,
          "start_i"=>1675454400,
          "icon_class"=>"cloud-sun",
          "temperature"=>48,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675461600,
          "start_i"=>1675458000,
          "icon_class"=>"cloud-sun",
          "temperature"=>48,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675465200,
          "start_i"=>1675461600,
          "icon_class"=>"cloud-sun",
          "temperature"=>48,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"8 mph",
          "end_i"=>1675468800,
          "start_i"=>1675465200,
          "icon_class"=>"cloud-sun",
          "temperature"=>46,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675472400,
          "start_i"=>1675468800,
          "icon_class"=>"cloud-sun",
          "temperature"=>44,
          "short_forecast"=>"Mostly Sunny"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675476000,
          "start_i"=>1675472400,
          "icon_class"=>"cloud-moon",
          "temperature"=>41,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675479600,
          "start_i"=>1675476000,
          "icon_class"=>"cloud-moon",
          "temperature"=>38,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675483200,
          "start_i"=>1675479600,
          "icon_class"=>"cloud-moon",
          "temperature"=>36,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675486800,
          "start_i"=>1675483200,
          "icon_class"=>"cloud-moon",
          "temperature"=>35,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"7 mph",
          "end_i"=>1675490400,
          "start_i"=>1675486800,
          "icon_class"=>"cloud-moon",
          "temperature"=>34,
          "short_forecast"=>"Partly Cloudy"},
         {"icon"=>"sct",
          "wind"=>"9 mph",
          "end_i"=>1675494000,
          "start_i"=>1675490400,
          "icon_class"=>"cloud-moon",
          "temperature"=>34,
          "short_forecast"=>"Partly Cloudy"}],
          wunderground_forecast: {"qpf"=>[0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
          "daypart"=>
           [{"qpf"=>[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
             "qpfSnow"=>[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
             "uvIndex"=>[2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 3, 0],
             "iconCode"=>[14, 29, 32, 31, 32, 31, 32, 31, 30, 29, 34, 33],
             "narrative"=>
              ["Cloudy with some light snow. Continued very cold. High 7F. Winds light and variable. Chance of snow 70%.",
               "Cloudy skies early, then partly cloudy after midnight. A few flurries or snow showers possible. Low 3F. Winds light and variable.",
               "Sunny skies. High 28F. Winds light and variable.",
               "Clear. Low 11F. Winds light and variable.",
               "Sunny skies. High 37F. Winds light and variable.",
               "Clear skies. Low 18F. Winds light and variable.",
               "Mainly sunny. High 41F. Winds light and variable.",
               "Clear skies. Low 22F. Winds SW at 5 to 10 mph.",
               "Some sun in the morning with increasing clouds during the afternoon. High near 45F. Winds SW at 5 to 10 mph.",
               "Partly cloudy. Low 27F. Winds WSW at 5 to 10 mph.",
               "Sunshine along with some cloudy intervals. High 43F. Winds WNW at 5 to 10 mph.",
               "Mainly clear skies. Low 22F. Winds SW at 5 to 10 mph."],
             "snowRange"=>["", "", "", "", "", "", "", "", "", "", "", ""],
             "windSpeed"=>[4, 4, 5, 6, 5, 6, 6, 7, 7, 7, 8, 7],
             "cloudCover"=>[89, 70, 3, 2, 6, 2, 2, 8, 64, 46, 28, 29],
             "dayOrNight"=>["D", "N", "D", "N", "D", "N", "D", "N", "D", "N", "D", "N"],
             "precipType"=>["snow", "snow", "precip", "snow", "precip", "snow", "rain", "snow", "rain", "precip", "rain", "snow"],
             "windPhrase"=>
              ["Winds light and variable.",
               "Winds light and variable.",
               "Winds light and variable.",
               "Winds light and variable.",
               "Winds light and variable.",
               "Winds light and variable.",
               "Winds light and variable.",
               "Winds SW at 5 to 10 mph.",
               "Winds SW at 5 to 10 mph.",
               "Winds WSW at 5 to 10 mph.",
               "Winds WNW at 5 to 10 mph.",
               "Winds SW at 5 to 10 mph."],
             "daypartName"=>
              ["Today",
               "Tonight",
               "Tomorrow",
               "Tomorrow night",
               "Wednesday",
               "Wednesday night",
               "Thursday",
               "Thursday night",
               "Friday",
               "Friday night",
               "Saturday",
               "Saturday night"],
             "temperature"=>[7, 3, 28, 11, 37, 18, 41, 22, 45, 27, 43, 22],
             "precipChance"=>[66, 24, 6, 4, 4, 4, 4, 4, 1, 3, 5, 7],
             "thunderIndex"=>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
             "wxPhraseLong"=>
              ["Light Snow",
               "Clouds Early/Clearing Late",
               "Sunny",
               "Clear",
               "Sunny",
               "Clear",
               "Sunny",
               "Clear",
               "Partly Cloudy",
               "Partly Cloudy",
               "Mostly Sunny",
               "Mostly Clear"],
             "qualifierCode"=>["Q707", "Q7815", nil, nil, nil, nil, nil, nil, nil, nil, nil, nil],
             "uvDescription"=>["Low", "Low", "Moderate", "Low", "Low", "Low", "Low", "Low", "Low", "Low", "Moderate", "Low"],
             "windDirection"=>[355, 183, 169, 230, 171, 236, 174, 231, 221, 258, 284, 224],
             "wxPhraseShort"=>
              ["Light Snow",
               "Clear Late",
               "Sunny",
               "Clear",
               "Sunny",
               "Clear",
               "Sunny",
               "Clear",
               "P Cloudy",
               "P Cloudy",
               "M Sunny",
               "M Clear"],
             "iconCodeExtend"=>[1601, 9000, 3200, 3100, 3200, 3100, 3200, 3100, 3000, 2900, 3400, 3300],
             "qualifierPhrase"=>
              ["Continued very cold.", "A few flurries or snow showers possible.", nil, nil, nil, nil, nil, nil, nil, nil, nil, nil],
             "thunderCategory"=>
              ["No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder",
               "No thunder"],
             "relativeHumidity"=>[67, 79, 60, 62, 54, 66, 61, 64, 56, 64, 51, 65],
             "temperatureHeatIndex"=>[7, 8, 28, 18, 37, 26, 41, 30, 45, 37, 43, 33],
             "temperatureWindChill"=>[-3, -5, -5, 4, 5, 10, 11, 15, 15, 21, 21, 16],
             "windDirectionCardinal"=>["N", "S", "S", "SW", "S", "SW", "S", "SW", "SW", "WSW", "WNW", "SW"]}],
          "qpfSnow"=>[0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
          "dayOfWeek"=>["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
          "moonPhase"=>["Waxing Gibbous", "Waxing Gibbous", "Waxing Gibbous", "Waxing Gibbous", "Waxing Gibbous", "Full Moon"],
          "narrative"=>
           ["Cloudy, some light snow. Highs in the upper single digits and lows in the low single digits.",
            "Sunshine. Highs in the upper 20s and lows in the low teens.",
            "Sunny. Highs in the upper 30s and lows in the upper teens.",
            "Mainly sunny. Highs in the low 40s and lows in the low 20s.",
            "Partly cloudy. Highs in the mid 40s and lows in the upper 20s.",
            "Mostly sunny. Highs in the low 40s and lows in the low 20s."],
          "moonPhaseDay"=>[9, 10, 11, 12, 13, 14],
          "validTimeUtc"=>[1675087200, 1675173600, 1675260000, 1675346400, 1675432800, 1675519200],
          "moonPhaseCode"=>["WXG", "WXG", "WXG", "WXG", "WXG", "F"],
          "sunsetTimeUtc"=>[1675124192, 1675210664, 1675297136, 1675383608, 1675470080, 1675556552],
          "moonsetTimeUtc"=>[1675071175, 1675161335, 1675251324, 1675340912, 1675430129, 1675518885],
          "sunriseTimeUtc"=>[1675087801, 1675174148, 1675260494, 1675346838, 1675433180, 1675519521],
          "temperatureMax"=>[7, 28, 37, 41, 45, 43],
          "temperatureMin"=>[3, 11, 18, 22, 27, 22],
          "validTimeLocal"=>
           ["2023-01-30T07:00:00-0700",
            "2023-01-31T07:00:00-0700",
            "2023-02-01T07:00:00-0700",
            "2023-02-02T07:00:00-0700",
            "2023-02-03T07:00:00-0700",
            "2023-02-04T07:00:00-0700"],
          "moonriseTimeUtc"=>[1675105734, 1675194421, 1675283480, 1675372997, 1675462794, 1675552854],
          "sunsetTimeLocal"=>
           ["2023-01-30T17:16:32-0700",
            "2023-01-31T17:17:44-0700",
            "2023-02-01T17:18:56-0700",
            "2023-02-02T17:20:08-0700",
            "2023-02-03T17:21:20-0700",
            "2023-02-04T17:22:32-0700"],
          "moonsetTimeLocal"=>
           ["2023-01-30T02:32:55-0700",
            "2023-01-31T03:35:35-0700",
            "2023-02-01T04:35:24-0700",
            "2023-02-02T05:28:32-0700",
            "2023-02-03T06:15:29-0700",
            "2023-02-04T06:54:45-0700"],
          "sunriseTimeLocal"=>
           ["2023-01-30T07:10:01-0700",
            "2023-01-31T07:09:08-0700",
            "2023-02-01T07:08:14-0700",
            "2023-02-02T07:07:18-0700",
            "2023-02-03T07:06:20-0700",
            "2023-02-04T07:05:21-0700"],
          "expirationTimeUtc"=>[1675108591, 1675108591, 1675108591, 1675108591, 1675108591, 1675108591],
          "moonriseTimeLocal"=>
           ["2023-01-30T12:08:54-0700",
            "2023-01-31T12:47:01-0700",
            "2023-02-01T13:31:20-0700",
            "2023-02-02T14:23:17-0700",
            "2023-02-03T15:19:54-0700",
            "2023-02-04T16:20:54-0700"],
          "calendarDayTemperatureMax"=>[9, 28, 37, 41, 45, 43],
          "calendarDayTemperatureMin"=>[-5, 3, 11, 18, 22, 26]},
          nws_alerts:
            {"type"=>"FeatureCollection",
      "title"=>
      "current watches, warnings, and advisories for North Douglas County Below 6000 Feet/Denver/West Adams and Arapahoe Counties/East Broomfield County (COZ040) CO",
      "updated"=>"2023-01-30T19:03:24+00:00",
      "@context"=>
      ["https://geojson.org/geojson-ld/geojson-context.jsonld",
        {"wx"=>"https://api.weather.gov/ontology#", "@vocab"=>"https://api.weather.gov/ontology#", "@version"=>"1.1"}],
      "features"=>
      [{"id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.1",
        "type"=>"Feature",
        "geometry"=>nil,
        "properties"=>
          {"id"=>"urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.1",
          "@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.1",
          "ends"=>"2023-01-30T20:00:00-07:00",
          "sent"=>"2023-01-30T12:03:00-07:00",
          "@type"=>"wx:Alert",
          "event"=>"Winter Weather Advisory",
          "onset"=>"2023-01-30T14:00:00-07:00",
          "sender"=>"w-nws.webmaster@noaa.gov",
          "status"=>"Actual",
          "expires"=>"2023-01-30T20:15:00-07:00",
          "geocode"=>{"UGC"=>["COZ040", "COZ041"], "SAME"=>["008001", "008005", "008014", "008031", "008035", "008039"]},
          "urgency"=>"Expected",
          "areaDesc"=>
            "North Douglas County Below 6000 Feet/Denver/West Adams and Arapahoe Counties/East Broomfield County; Elbert/Central and East Douglas Counties Above 6000 Feet",
          "category"=>"Met",
          "headline"=>"Winter Weather Advisory issued January 30 at 12:03PM MST until January 30 at 8:00PM MST by NWS Denver CO",
          "response"=>"Execute",
          "severity"=>"Moderate",
          "certainty"=>"Likely",
          "effective"=>"2023-01-30T12:03:00-07:00",
          "parameters"=>
            {"VTEC"=>["/O.CON.KBOU.WW.Y.0009.230130T2100Z-230131T0300Z/"],
            "NWSheadline"=>
              ["WINTER WEATHER ADVISORY REMAINS IN EFFECT UNTIL 8 PM MST THIS EVENING... ...WIND CHILL ADVISORY REMAINS IN EFFECT FROM 9 PM THIS EVENING TO 8 AM MST TUESDAY"],
            "BLOCKCHANNEL"=>["EAS", "NWEM", "CMAS"],
            "WMOidentifier"=>["WWUS45 KBOU 301903"],
            "AWIPSidentifier"=>["WSWBOU"],
            "eventEndingTime"=>["2023-01-31T03:00:00+00:00"],
            "expiredReferences"=>
              ["w-nws.webmaster@noaa.gov,urn:oid:2.49.0.1.840.0.719b31360e4ae0699e4314bcbcc0fc63f7df0d6c.001.1,2022-02-11T22:58:00-07:00 w-nws.webmaster@noaa.gov,urn:oid:2.49.0.1.840.0.70ea1749f8233bc177a328bad48c4b7d597430e2.001.1,2022-02-11T10:40:00-07:00 w-nws.webmaster@noaa.gov,urn:oid:2.49.0.1.840.0.70e88d80ad6ecbb608bf825f43308e10c6c484eb.001.1,2022-02-11T02:28:00-07:00"]},
          "references"=>
            [{"@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.485483dafe93ab65268f94141ed0245649d94506.004.1",
              "sent"=>"2023-01-30T11:26:00-07:00",
              "sender"=>"w-nws.webmaster@noaa.gov",
              "identifier"=>"urn:oid:2.49.0.1.840.0.485483dafe93ab65268f94141ed0245649d94506.004.1"}],
          "senderName"=>"NWS Denver CO",
          "description"=>
            "* WHAT...For the Winter Weather Advisory today, bands of moderate to\nheavy snow are expected to develop.  Snowfall rates of 1 to 2\ninches per hour may occur this afternoon and early this evening,\nwith total snow accumulations of 2 to 4 inches possible. For the\nWind Chill Advisory, very cold wind chills expected tonight. Wind\nchills as low as 20 below zero.\n\n* WHERE...Denver, and Castle Rock. Interstate 70 from Denver west\ntowards the foothills and Interstate 25 from Denver south to\nCastle Rock will likely be impacted by the heavier bands of snow.\n\n* WHEN...For the Winter Weather Advisory, until 8 PM MST this\nevening. For the Wind Chill A
    dvisory, from 9 PM this evening to 8\nAM MST Tuesday.\n\n* IMPACTS...The dangerously cold wind chills tonight could cause\nfrostbite
    on exposed skin in as little as 30 minutes.",
          "instruction"=>
            "Slow down and use caution while traveling. The latest road\nconditions for Colorado can be obtained by calling 5 1 1 or by go
    ing\nto www.cotrip.org.\n\nThe combination of wind and cold temperatures will create\ndangerously low wind chill values. If you go ou
    tside, cover all\nparts of your body, especially your head, face, and hands.",
          "messageType"=>"Update",
          "affectedZones"=>["https://api.weather.gov/zones/forecast/COZ040", "https://api.weather.gov/zones/forecast/COZ041"]}},
        {"id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.2",
        "type"=>"Feature",
        "geometry"=>nil,
        "properties"=>
          {"id"=>"urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.2",
          "@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.c11d978de5efb30168ee22ff34849ede95cd143a.004.2",
          "ends"=>"2023-01-31T08:00:00-07:00",
          "sent"=>"2023-01-30T12:03:00-07:00",
          "@type"=>"wx:Alert",
          "event"=>"Wind Chill Advisory",
          "onset"=>"2023-01-30T21:00:00-07:00",
          "sender"=>"w-nws.webmaster@noaa.gov",
          "status"=>"Actual",
          "expires"=>"2023-01-30T20:15:00-07:00",
          "geocode"=>{"UGC"=>["COZ040", "COZ041"], "SAME"=>["008001", "008005", "008014", "008031", "008035", "008039"]},
          "urgency"=>"Expected",
          "areaDesc"=>
            "North Douglas County Below 6000 Feet/Denver/West Adams and Arapahoe Counties/East Broomfield County; Elbert/Central and East
    Douglas Counties Above 6000 Feet",
          "category"=>"Met",
          "headline"=>"Wind Chill Advisory issued January 30 at 12:03PM MST until January 31 at 8:00AM MST by NWS Denver CO",
          "response"=>"Prepare",
          "severity"=>"Moderate",
          "certainty"=>"Likely",
          "effective"=>"2023-01-30T12:03:00-07:00",
          "parameters"=>
            {"VTEC"=>["/O.CON.KBOU.WC.Y.0002.230131T0400Z-230131T1500Z/"],
            "NWSheadline"=>
              ["WINTER WEATHER ADVISORY REMAINS IN EFFECT UNTIL 8 PM MST THIS EVENING... ...WIND CHILL ADVISORY REMAINS IN EFFECT FROM 9 P
    M THIS EVENING TO 8 AM MST TUESDAY"],
            "BLOCKCHANNEL"=>["EAS", "NWEM", "CMAS"],
            "WMOidentifier"=>["WWUS45 KBOU 301903"],
            "AWIPSidentifier"=>["WSWBOU"],
            "eventEndingTime"=>["2023-01-31T15:00:00+00:00"]},
          "references"=>
            [{"@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.b0ac70048a9c3c89f6c56726db5e73a74fa81f1e.003.1",
              "sent"=>"2023-01-30T03:16:00-07:00",
              "sender"=>"w-nws.webmaster@noaa.gov",
              "identifier"=>"urn:oid:2.49.0.1.840.0.b0ac70048a9c3c89f6c56726db5e73a74fa81f1e.003.1"},
            {"@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.549e82d8c53d8d3f782aa94bc224770f58da3b19.005.2",
              "sent"=>"2023-01-30T06:27:00-07:00",
              "sender"=>"w-nws.webmaster@noaa.gov",
              "identifier"=>"urn:oid:2.49.0.1.840.0.549e82d8c53d8d3f782aa94bc224770f58da3b19.005.2"},
            {"@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.b5d39596a8c21403076a2006cf6beb0216a03aab.001.2",
              "sent"=>"2023-01-30T09:06:00-07:00",
              "sender"=>"w-nws.webmaster@noaa.gov",
              "identifier"=>"urn:oid:2.49.0.1.840.0.b5d39596a8c21403076a2006cf6beb0216a03aab.001.2"},
            {"@id"=>"https://api.weather.gov/alerts/urn:oid:2.49.0.1.840.0.485483dafe93ab65268f94141ed0245649d94506.004.2",
              "sent"=>"2023-01-30T11:26:00-07:00",
              "sender"=>"w-nws.webmaster@noaa.gov",
              "identifier"=>"urn:oid:2.49.0.1.840.0.485483dafe93ab65268f94141ed0245649d94506.004.2"}],
          "senderName"=>"NWS Denver CO",
          "description"=>
            "* WHAT...For the Winter Weather Advisory today, bands of moderate to\nheavy snow are expected to develop.  Snowfall rates of
    1 to 2\ninches per hour may occur this afternoon and early this evening,\nwith total snow accumulations of 2 to 4 inches possible. Fo
    r the\nWind Chill Advisory, very cold wind chills expected tonight. Wind\nchills as low as 20 below zero.\n\n* WHERE...Denver, and Ca
    stle Rock. Interstate 70 from Denver west\ntowards the foothills and Interstate 25 from Denver south to\nCastle Rock will likely be i
    mpacted by the heavier bands of snow.\n\n* WHEN...For the Winter Weather Advisory, until 8 PM MST this\nevening. For the Wind Chill A
    dvisory, from 9 PM this evening to 8\nAM MST Tuesday.\n\n* IMPACTS...The dangerously cold wind chills tonight could cause\nfrostbite
    on exposed skin in as little as 30 minutes.",
          "instruction"=>
            "Slow down and use caution while traveling. The latest road\nconditions for Colorado can be obtained by calling 5 1 1 or by go
    ing\nto www.cotrip.org.\n\nThe combination of wind and cold temperatures will create\ndangerously low wind chill values. If you go ou
    tside, cover all\nparts of your body, especially your head, face, and hands.",
          "messageType"=>"Update",
          "affectedZones"=>["https://api.weather.gov/zones/forecast/COZ040", "https://api.weather.gov/zones/forecast/COZ041"]}}]}})

    result = @helper.weather_calendar_events(DateTime.new(2023,1,30,12,44,30,'+7'))

    assert(result.map { |result| result["icon"] }.include?("sunrise"))
    assert(result.map { |result| result["icon"] }.include?("sunset"))
  end
end
